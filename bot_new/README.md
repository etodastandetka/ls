# Telegram Ð±Ð¾Ñ‚ LUXON Ð½Ð° aiogram 3

## Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð¸ Ð·Ð°Ð¿ÑƒÑÐº

### 1. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹

```bash
cd bot_new
pip install -r requirements.txt
```

### 2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°

Ð¢Ð¾ÐºÐµÐ½ Ð±Ð¾Ñ‚Ð° ÑƒÐ¶Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ Ð² `config.py`. Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ (API_URL, WEBSITE_URL Ð¸ Ñ‚.Ð´.), Ð¾Ñ‚Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ„Ð°Ð¹Ð» `config.py`.

### 3. Ð—Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð°

```bash
python bot.py
```

Ð˜Ð»Ð¸ Ð´Ð»Ñ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð² Ñ„Ð¾Ð½Ðµ (Linux):

```bash
nohup python bot.py > bot.log 2>&1 &
```

### 4. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

Ð‘Ð¾Ñ‚ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð²Ñ‹Ð²ÐµÑÑ‚Ð¸ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ:
```
ðŸ¤– Ð‘Ð¾Ñ‚ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ...
âœ… ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ñ‹
```

### Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```
bot_new/
â”œâ”€â”€ bot.py              # Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» Ð±Ð¾Ñ‚Ð°
â”œâ”€â”€ config.py           # ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ (Ñ‚Ð¾ÐºÐµÐ½, URL Ð¸ Ñ‚.Ð´.)
â”œâ”€â”€ states.py           # FSM ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ
â”œâ”€â”€ security.py         # Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ (rate limiting, Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ)
â”œâ”€â”€ requirements.txt    # Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
â”œâ”€â”€ handlers/           # ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¸
â”‚   â”œâ”€â”€ start.py        # ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° /start
â”‚   â”œâ”€â”€ deposit.py      # ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð´ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ð²
â”‚   â”œâ”€â”€ withdraw.py     # ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð²Ñ‹Ð²Ð¾Ð´Ð¾Ð²
â”‚   â”œâ”€â”€ callback.py     # Callback ÐºÐ½Ð¾Ð¿ÐºÐ¸
â”‚   â”œâ”€â”€ messages.py     # ÐžÐ±Ñ‹Ñ‡Ð½Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
â”‚   â””â”€â”€ referral.py     # Ð ÐµÑ„ÐµÑ€Ð°Ð»ÑŒÐ½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°
â””â”€â”€ utils/              # Ð£Ñ‚Ð¸Ð»Ð¸Ñ‚Ñ‹
    â”œâ”€â”€ texts.py        # Ð¢ÐµÐºÑÑ‚Ñ‹ Ð¸ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ñ‹
    â”œâ”€â”€ keyboards.py    # ÐšÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñ‹
    â”œâ”€â”€ settings.py     # Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº
    â”œâ”€â”€ state_manager.py # Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸ÑÐ¼Ð¸
    â”œâ”€â”€ qr_generator.py # Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ QR-ÐºÐ¾Ð´Ð¾Ð²
    â””â”€â”€ timer.py        # Ð¢Ð°Ð¹Ð¼ÐµÑ€ Ð´Ð»Ñ Ð´ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ð²
```

### Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸

- aiogram==3.4.1
- httpx==0.27.0
- qrcode[pil]==7.4.2
- Pillow==10.2.0
- aiofiles==23.2.1
- aiohttp==3.9.1

### Ð’Ð°Ð¶Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹

- `pending_deposit_states.json` - Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÐ¾Ð·Ð´Ð°ÐµÑ‚ÑÑ Ð´Ð»Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ð¹ Ð´ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ð² Ð¿Ð¾ÑÐ»Ðµ Ñ€ÐµÑÑ‚Ð°Ñ€Ñ‚Ð°

### Ð›Ð¾Ð³Ð¸

Ð‘Ð¾Ñ‚ Ð»Ð¾Ð³Ð¸Ñ€ÑƒÐµÑ‚ Ð²ÑÐµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ. Ð”Ð»Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð»Ð¾Ð³Ð¾Ð² Ð² Ñ„Ð°Ð¹Ð» Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¿ÐµÑ€ÐµÐ½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ:

```bash
python bot.py > bot.log 2>&1
```

